/* =========================================
   1. GLOBAL RESET
   ========================================= */
* {
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 0;
    height: 100vh;
    width: 100vw;
    display: flex; /* Flexbox centers everything */
    justify-content: center;
    align-items: center;
    font-family: 'Courier New', Courier, monospace; 
    overflow: hidden; /* Stops scrolling */
    background-color: #2c003e; 
}

/* =========================================
   2. BACKGROUND LAYER
   ========================================= */
#bg-layer {
    position: fixed;
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
    
    /* BACKGROUND IMAGE SETTINGS */
    background-image: url('./img/bg-1.png'); 
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    
    transition: background-image 1.0s ease-in-out; 
    z-index: -10; /* Puts it way back */
}

.overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: -5;
    pointer-events: none;
}

/* =========================================
   3. MAIN CARD CONTAINER
   ========================================= */
.container {
    /* Dimensions */
    width: 90%;
    max-width: 450px;
    
    /* Appearance */
    background: rgba(255, 255, 255, 0.95); 
    border: 4px solid #d4af37;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.6), 10px 10px 0px rgba(0,0,0,0.5); 
    border-radius: 8px;
    padding: 2rem;
    
    /* Positioning */
    text-align: center;
    position: relative;
    z-index: 10; /* Keeps it above background */
    
    /* Animation */
    transition: all 0.5s ease;
}

/* Celebration Glass Mode */
.container.celebration-mode {
    background: rgba(20, 0, 40, 0.6);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 215, 0, 0.5); 
    box-shadow: 0 0 60px rgba(255, 215, 0, 0.4); 
    color: white; 
}

/* =========================================
   4. CONTENT & IMAGES
   ========================================= */
.image-area {
    position: relative;
    width: 100%;
    height: 300px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 15px 0;
    overflow: visible; /* Prevents cutting off glow */
}

#main-image {
    max-width: 100%; /* Prevents image from exploding layout */
    max-height: 100%;
    object-fit: contain;
    
    border: 3px solid #333;
    background: #fff;
    cursor: pointer; 
    transition: transform 0.1s;
    z-index: 5;
    box-shadow: 5px 5px 0px rgba(0,0,0,0.2);
}

#main-image:active {
    transform: scale(0.95);
}

/* =========================================
   5. CONTROLS
   ========================================= */
.controls {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    margin-top: 15px;
}

.btn {
    border: 2px solid #000;
    background: #fff;
    padding: 10px;
    font-family: inherit;
    flex: 1;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 4px 4px 0px #000;
    transition: transform 0.1s;
}

.btn:active { transform: translate(2px, 2px); box-shadow: 2px 2px 0px #000; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; background: #ddd; box-shadow: none; transform: none; }
.btn.primary { background-color: #ffcccc; font-weight: bold; }

/* =========================================
   6. FLOATING ORBS (Success Screen)
   ========================================= */
.floating-container {
    position: relative;
    height: 320px;
    width: 100%;
}

.floater {
    position: absolute;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #ffd700; 
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.6); 
    animation: float 6s ease-in-out infinite;
    z-index: 20;
}

.f1 { width: 70px; height: 70px; top: 5%; left: 5%; animation-duration: 5s; }
.f2 { width: 85px; height: 85px; top: 15%; right: 5%; animation-duration: 7s; }
.f3 { 
    width: 140px; height: 140px; 
    top: 35%; left: 50%; 
    transform: translateX(-50%); 
    border: 4px solid #fff; 
    box-shadow: 0 0 40px rgba(255, 0, 220, 0.6); 
    z-index: 10;
    animation: centerFloat 6s ease-in-out infinite;
}
.f4 { width: 60px; height: 60px; bottom: 10%; left: 15%; animation-duration: 8s; }
.f5 { width: 75px; height: 75px; bottom: 20%; right: 10%; animation-duration: 6s; }

@keyframes float { 0%, 100% { transform: translateY(0px) rotate(0deg); } 50% { transform: translateY(-15px) rotate(3deg); } }
@keyframes centerFloat { 0%, 100% { transform: translateX(-50%) translateY(0px); } 50% { transform: translateX(-50%) translateY(-10px); } }

/* Sunburst Animation */
.sunburst {
    position: absolute;
    width: 350px; height: 350px;
    background: repeating-conic-gradient(from 0deg, #fff0f5 0deg 30deg, #ffc2cd 30deg 60deg);
    border-radius: 50%;
    animation: spin 20s linear infinite;
    z-index: 1; opacity: 0.6; pointer-events: none;
}
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* Tap Meter */
#tap-meter { width: 80%; height: 12px; background: #eee; border: 2px solid #333; margin: 10px auto; border-radius: 6px; overflow: hidden; }
#tap-fill { height: 100%; width: 0%; background: #ff4d4d; transition: width 0.2s; }

/* Typography */
.retro-title { font-family: 'Press Start 2P', cursive; font-size: 1.2rem; margin-bottom: 20px; line-height: 1.5; }
.arabic-text { font-family: 'Amiri', serif; font-size: 1.8rem; color: #d63384; margin: 10px 0;}
.bengali-text { font-family: 'Hind Siliguri', sans-serif; font-size: 1.4rem; margin: 10px 0;}
.hidden { display: none !important; }
.buttons { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }
#noBtn { position: relative; transition: 0.1s; }

/* Responsive Mobile Fixes */
@media screen and (max-width: 480px) {
    .container { padding: 1rem; width: 95%; }
    .image-area { height: 250px; }
    .f3 { width: 110px; height: 110px; }
    .f1, .f2, .f4, .f5 { width: 50px; height: 50px; }
}
